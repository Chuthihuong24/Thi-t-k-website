<!DOCTYPE html>
<html lang="vi">
<>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi tiết sản phẩm - Garu Farm</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/detail.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" href="images1/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="assets/script.js"></script>
    <script src="assets/detail.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/60eee2d4f6.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/assets/home.js"></script>
    <script src="/assets/detail.js"></script>
    <script src="/assets/script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Lấy thông tin từ URL parameters
            const urlParams = new URLSearchParams(window.location.search);

            // Lấy thông tin sản phẩm từ URL
            const productData = {
                id: urlParams.get("id"),
                name: urlParams.get("name"),
                price: urlParams.get("price"),
                oldPrice: urlParams.get("oldPrice"),
                image: urlParams.get("image"),
                sold: urlParams.get("sold"),
                quantity: urlParams.get("quantity"),
            };
            // Cập nhật nút thêm vào giỏ hàng
            const addToCartBtn = document.querySelector('.add-to-cart');
            if (addToCartBtn) {
                addToCartBtn.onclick = function () {

                    const formattedPrice = new Intl.NumberFormat('vi-VN').format(productData.price) + 'đ';

                    addToCart(
                        productData.id,
                        productData.name,
                        formattedPrice,
                        productData.image,
                        productData.quantity
                    );
                };
            }
        });
    </script>
    </head>

    <body>
        <!-- Preloader-->
        <div id="loading-screen">
            <div class="ring"></div>
        </div>
        <!--mouse effect-->
        <div class="cursor-circle" id="cursor-circle"></div>
        <div class="cursor-dot" id="cursor-dot"></div>

        <!--Header with 3 div: logo, menu, others -->
        <header>
            <div class="logo">
                <a href="" class="logo"></a>
                <img src="assets/images/Banner/logo.png" title="Nông sản sạch Garu" width="160px">
            </div>

            <nav class="menu">
                <li><a href="home.html"> TRANG CHỦ</a></li>
                <li><a href="landingpage.html"> GIỚI THIỆU</a></li>
                <li><a href="products.html"> SẢN PHẨM</a>
                    <ul class="sub-menu">
                        <li><a href="products.html"><strong>Tất cả sản phẩm</strong></a></li>
                        <li><a href=""> Trái cây</a></li>
                        <li><a href=""> Rau củ</a></li>
                        <li><a href=""> Đồ uống </a></li>
                        <li><a href=""> Các loại Đậu</a></li>
                        <li><a href=""> Bún, gạo</a></li>
                        <li><a href=""> Thực phẩm hữu cơ</a></li>
                    </ul>
                </li>
                <li><a href="seed.html"> HẠT GIỐNG</a>
                    <ul class="sub-menu">
                        <li><a href="products.html"><strong>Tất cả sản phẩm</strong></a></li>
                        <li><a href="">Hạt giống rau</a></li>
                        <li><a href="">Hạt giống củ quả</a></li>
                        <li><a href="">Hạt giống hoa cảnh</a></li>
                    </ul>
                </li>
                <li><a href="blog.html"> KIẾN THỨC</a>
                    <ul class="sub-menu">
                        <li><a href="blog.html"><strong>Tất cả tin</strong></a></li>
                        <li><a href="">Trồng trọt chăm bón</a></li>
                        <li><a href="">Cách nhân giống</a></li>
                        <li><a href="">Hướng dẫn trồng cây</a></li>
                        <li><a href="">Phân bón</a></li>
                        <li><a href="">Sức khỏe & an toàn</a></li>
                        <li><a href="">Món ngon mỗi ngày</a></li>
                    </ul>
                </li>
                <li><a href="contact.html"> LIÊN HỆ</a></li>
            </nav>

            <div class="others">
                <button><a href="login.html"> Đăng nhập </a></button>
                <button><a href="signup.html"> Đăng ký </a></button>
                <div class="cart-container">
                    <div class="cart-icon" id="header-cart">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count">0</span>
                    </div>
                    <!--Popup giỏ hàng để lớp này khi hiện ra đè lên màn hình chính-->
                    <div class="cart-popup" id="cartPopup">
                        <h3>GIỎ HÀNG</h3>
                        <div class="cart-content">
                            <i class="fas fa-shopping-cart cart-empty-icon"></i>
                            <p>Hiện chưa có sản phẩm</p>
                        </div>
                        <div class="cart-footer">
                            <p><strong>Tổng tiền:</strong> <span>0₫</span></p>
                            <button class="btn-view-cart"><a href="">Xem giỏ hàng</a></button>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!--Thanh dưới header: Time, Search, Hotline-->
        <div class="info-bar">
            <div class="search-container">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Tìm kiếm sản phẩm...">
                    <button type="button" class="search-btn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <div id="searchResults" class="search-results"></div>
            </div>
            <div class="hotline">
                <p>Hotline: <strong>1800-1234</strong></p>
            </div>
        </div>
        <!--Phần chính của trang chi tiết sản phẩm-->
        <div class="product-detail-container">
            <!-- Breadcrumb -->
            <div class="product-detail-container">
                <!-- Breadcrumb -->
                <div class="breadcrumb">
                    <a href="home.html">Trang chủ</a>
                    <i class="fas fa-chevron-right"></i>
                    <a href="products.html">Sản phẩm</a>
                    <i class="fas fa-chevron-right"></i>
                    <span class="current">Chi tiết sản phẩm</span>
                </div>

                <div class="product-content d-flex">
                    <!-- Hình ảnh sản phẩm -->
                    <div class="product-images">
                        <div class="main-image">
                            <img src="" alt="Product Image" id="mainImage">
                        </div>
                        <div class="thumbnail-images pt-4">
                            <!-- Thumbnails sẽ được thêm bằng JavaScript -->
                        </div>
                    </div>
                    <!-- Thông tin sản phẩm -->
                    <div class="product-info p-4 ps-5">
                        <div class="product-header">
                            <span class="preferred-tag">Ưu đãi</span>
                            <h1 class="product-title"></h1>
                        </div>

                        <div class="product-meta">
                            <div class="rating-section">
                                <span class="rating">4.5 <i class="fas fa-star"></i></span>
                                <span class="sold-count"></span>
                            </div>
                        </div>

                        <div class="product-price">
                            <div class="price-info">
                                <span class="original-price"></span>
                                <span class="current-price"></span>
                                <span class="discount-badge"></span>
                            </div>
                        </div>
                        <div class="shop-vouchers">
                            <span class="voucher-label">Mã giảm giá</span>
                            <div class="voucher-list">
                                <span class="voucher active">Giảm 10K</span>
                                <span class="voucher">Giảm 20K</span>
                                <span class="voucher">Giảm 40K</span>
                            </div>
                        </div>
                        <script>// Lấy tất cả các phần tử voucher
                            const voucherElements = document.querySelectorAll('.voucher');

                            // Thêm sự kiện click cho mỗi voucher
                            voucherElements.forEach(voucher => {
                                voucher.addEventListener('click', function () {
                                    // Xóa lớp 'active' khỏi tất cả các voucher
                                    voucherElements.forEach(v => v.classList.remove('active'));

                                    // Thêm lớp 'active' vào voucher đang được chọn
                                    this.classList.add('active');
                                });
                            });
                        </script>
                        <div class="shipping-info">
                            <div class="shipping-row">
                                <span class="label">Vận chuyển</span>
                                <div class="shipping-details">
                                    <span class="free-shipping">
                                        <i class="fas fa-truck text-end"></i>
                                        Miễn phí vận chuyển
                                    </span>
                                    <span class="shipping-condition text-end">Miễn phí cho đơn hàng từ 300.000₫</span>
                                </div>
                            </div>
                            <div class="shipping-row">
                                <span class="label">Xuất xứ</span>
                                <span class="value">Đà Lạt, Lâm Đồng</span>
                            </div>
                            <div class="shipping-row">
                                <span class="label">Phí vận chuyển</span>
                                <span class="value">0₫</span>
                            </div>
                        </div>

                        <div class="product-options">
                            <div class="option-row">
                                <span class="label">Khối lượng</span>
                                <div class="option-values d-flex gap-3 justify-content-center">
                                    <button class="option-btn" onclick="selectOption(this)">500g</button>
                                    <button class="option-btn" onclick="selectOption(this)">1kg</button>
                                    <button class="option-btn" onclick="selectOption(this)">2kg</button>
                                </div>
                            </div>
                        </div>
                        <script>function selectOption(button) {
                                // Xóa lớp 'selected' khỏi tất cả các nút
                                const buttons = document.querySelectorAll(".option-btn");
                                buttons.forEach((btn) => btn.classList.remove("selected"));

                                // Thêm lớp 'selected' vào nút được chọn
                                button.classList.add("selected");
                            }</script>
                        <div class="quantity-section">
                            <span class="label">Số lượng</span>
                            <div class="quantity-controls">
                                <button class="decrease" onclick="decreaseQuantity()">−</button>
                                <input type="number" value="1" min="1" id="quantity">
                                <button class="increase" onclick="increaseQuantity()">+</button>
                                <span class="stock-info">Còn 198 sản phẩm</span>
                            </div>
                        </div>
                        <script>
                            document.addEventListener('DOMContentLoaded', function () {
                                // Lấy phần tử input và số lượng sản phẩm còn lại
                                const quantityInput = document.getElementById('quantity');
                                const stockInfo = document.querySelector('.stock-info');
                                const maxStock = 198; // Số lượng sản phẩm tối đa

                                // Hàm giảm số lượng
                                function decreaseQuantity() {
                                    let currentQuantity = parseInt(quantityInput.value);
                                    if (currentQuantity > 1) {  // Kiểm tra để không giảm dưới 1
                                        currentQuantity--;
                                        quantityInput.value = currentQuantity;
                                        updateStockInfo(currentQuantity);
                                    }
                                }

                                // Hàm tăng số lượng
                                function increaseQuantity() {
                                    let currentQuantity = parseInt(quantityInput.value);
                                    if (currentQuantity < maxStock) {  // Kiểm tra để không vượt quá số lượng còn lại
                                        currentQuantity++;
                                        quantityInput.value = currentQuantity;
                                        updateStockInfo(currentQuantity);
                                    }
                                }

                                // Cập nhật thông tin số lượng sản phẩm còn lại
                                function updateStockInfo(currentQuantity) {
                                    const remainingStock = maxStock - currentQuantity;
                                    stockInfo.textContent = `Còn ${remainingStock} sản phẩm`;
                                }

                                // Gán sự kiện cho các nút
                                document.querySelector('.decrease').onclick = decreaseQuantity;
                                document.querySelector('.increase').onclick = increaseQuantity;
                            });
                        </script>
                        <div class="purchase-buttons">
                            <button class="add-to-cart">
                                <i class="fas fa-shopping-cart"></i>
                                Thêm vào giỏ hàng
                            </button>
                            <button class="buy-now">
                                Mua ngay
                            </button>
                        </div>


                    </div>
                </div>

                <div class="tabs">
                    <button class="active" onclick="showTab('description')">Mô tả</button>
                    <button onclick="showTab('additional-info')">Thông tin bổ sung</button>
                    <button onclick="showTab('customer-feedback')">Phản hồi khách hàng</button>
                </div>

                <div id="description" class="tab-content">
                    <h2>Chi Tiết Sản Phẩm</h2>
                    <p><strong>Tên sản phẩm:</strong> <span id="product-name"></span></p>
                    <p><strong>Quy cách:</strong> <span id="product-package"></span></p>
                    <p><strong>HSD:</strong> <span id="product-expiry"></span></p>
                    <p><strong>Xuất xứ:</strong> <span id="product-origin"></span></p>
                    <p><strong>Mô tả sản phẩm:</strong> <span id="product-description"></span></p>
                    <p><strong>Ứng dụng:</strong> <span id="product-application"></span></p>
                    <p><strong>Hashtags:</strong> <span id="product-hashtags"></span></p>
                </div>

                <div id="additional-info" class="tab-content" style="display: none;">
                    <h3>Thông Tin Bổ Sung</h3>
                    <p id="additional-info-text">Thông tin bổ sung về sản phẩm sẽ được cập nhật ở đây.</p>
                </div>

                <div id="customer-feedback" class="tab-content" style="display: none;">
                    <h3>Phản Hồi Khách Hàng</h3>
                    <div id="feedback-container">

                    </div>
                </div>

            </div>
        </div>
        <div class="about-content">
            <h2>Sản phẩm tương tự</h2>
            <div class="product-carousel p-5">
                <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <!-- Hình ảnh carousel -->
                        <div class="carousel-item active">
                            <div class="row">
                                <div class="col-4">
                                    <img src="/assets/images/cốm.png" alt="Cốm làng Vòng" class="w-100">
                                </div>
                                <div class="col-4">
                                    <img src="assets/images/gia vị Việt.jpg" alt="Gia vị chuẩn Tây Bắc" class="w-100">
                                </div>
                                <div class="col-4">
                                    <img src="assets/images/Thịt/thịt lợn 2.jpg" alt="Thịt lợn sạch" class="w-100">
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="row">
                                <div class="col-4">
                                    <img src="assets/images/Gạo/Gạo.jpg" alt="Gạo ST25K dẻo thơm" class="w-100">
                                </div>
                                <div class="col-4">
                                    <img src="assets/images/Rau củ/chè Thái Nguyên.jpg" alt="Chè Thái Nguyên"
                                        class="w-100">
                                </div>
                                <div class="col-4">
                                    <img src="/assets/images/cốm.png" alt="Cốm làng Vòng" class="w-100">
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="row">
                                <div class="col-4">
                                    <img src="assets/images/gia vị Việt.jpg" alt="Gia vị chuẩn Tây Bắc" class="w-100">
                                </div>
                                <div class="col-4">
                                    <img src="assets/images/Thịt/thịt lợn 2.jpg" alt="Thịt lợn sạch" class="w-100">
                                </div>
                                <div class="col-4">
                                    <img src="assets/images/Gạo/Gạo.jpg" alt="Gạo ST25K dẻo thơm" class="w-100">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div><button class="carousel-control-prev" type="button" data-bs-target="#carouselExample"
                            data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true">
                            </span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>

                </div>
            </div>


            <script>document.addEventListener("DOMContentLoaded", function () {
                    const carouselImages = document.querySelector('.carousel-images');
                    const prevButton = document.querySelector('.prev-button');
                    const nextButton = document.querySelector('.next-button');

                    let currentIndex = 0;
                    const totalImages = document.querySelectorAll('.carousel-images img').length;
                    const imageWidth = document.querySelector('.carousel-images img').clientWidth; // Chiều rộng của mỗi ảnh

                    // Hàm di chuyển carousel
                    function updateCarousel() {
                        carouselImages.style.transform = `translateX(-${currentIndex * imageWidth}px)`;
                    }

                    // Xử lý sự kiện nhấn nút "Next"
                    nextButton.addEventListener('click', function () {
                        if (currentIndex < totalImages - 1) {
                            currentIndex++;
                        } else {
                            currentIndex = 0; // Quay lại đầu nếu đã đến ảnh cuối
                        }
                        updateCarousel();
                    });

                    // Xử lý sự kiện nhấn nút "Prev"
                    prevButton.addEventListener('click', function () {
                        if (currentIndex > 0) {
                            currentIndex--;
                        } else {
                            currentIndex = totalImages - 1; // Quay lại cuối nếu đã đến ảnh đầu
                        }
                        updateCarousel();
                    });
                });

            </script>
            <!-- Footer -->
            <footer>
                <div class="container-1">
                    <div class="row">
                        <!-- Cột 1: Logo và Phương thức thanh toán -->
                        <div class="col-md-3">
                            <div class="logo">
                                <img src="assets/images/Banner/logo.png" alt="Logo" width="150">
                            </div>
                            <p>Chúng tôi cung cấp các sản phẩm nông sản sạch chất lượng cao.</p>
                            <h5>Phương thức thanh toán:</h5>
                            <div class="payment-methods">
                                <i class="fab fa-cc-visa"></i>
                                <i class="fab fa-cc-mastercard"></i>
                                <i class="fas fa-wallet"></i>
                            </div>
                        </div>
                        <!-- Cột 2: Hỗ trợ -->
                        <div class="col-md-3">
                            <h5>Hỗ trợ</h5>
                            <ul>
                                <li><a href="">Chính sách bảo hành</a></li>
                                <li><a href="">Chính sách vận chuyển</a></li>
                                <li><a href="">Chính sách bảo mật</a></li>
                                <li><a href="">Chính sách đổi trả</a></li>
                                <li><a href="">Tùy chọn thanh toán</a></li>
                            </ul>
                        </div>
                        <!-- Cột 3: Thông tin liên hệ -->
                        <div class="col-md-3">
                            <h5>Thông tin liên hệ</h5>
                            <ul>
                                <li><strong>Địa chỉ:</strong> 123 Đường ABC</li>
                                <li><strong>Điện thoại:</strong> 0987654321</li>
                                <li><strong>Email:</strong> info@garu.com</li>
                            </ul>
                            <div class="social-links">
                                <a href="#"><i class="fab fa-facebook"></i></a>
                                <a href="#"><i class="fab fa-google"></i></a>
                                <a href="#"><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                        <!-- Cột 4: Cam kết khách hàng -->
                        <div class="col-md-3">
                            <h5>Cam kết khách hàng</h5>
                            <ul>
                                <li>Giá ưu đãi nhất</li>
                                <li>Sản phẩm chất lượng cao</li>
                                <li>Truy xuất nguồn gốc rõ ràng</li>
                                <li>Sản phẩm không đúng đền 100%</li>
                            </ul>
                        </div>

                        <!-- Dòng dưới các cột -->
                        <div class="text-center mt-4">
                            <p>Website nông sản sạch Garu Việt Nam</p>
                        </div>
                    </div>
                </div>
            </footer>
    </body>
    <script>
        function changeImage(src) {
            document.getElementById('main-image').src = src;
            const thumbnails = document.querySelectorAll('.image-thumbnails img');
            thumbnails.forEach(img => img.classList.remove('active'));
            event.target.classList.add('active');
        }

        function showTab(tabId) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.style.display = 'none');
            document.getElementById(tabId).style.display = 'block';

            const buttons = document.querySelectorAll('.tabs button');
            buttons.forEach(button => button.classList.remove('active'));
            event.target.classList.add('active');
        }

        function increaseQuantity() {
            const quantityInput = document.getElementById('quantity');
            quantityInput.value = parseInt(quantityInput.value) + 1;
        }

        function decreaseQuantity() {
            const quantityInput = document.getElementById('quantity');
            if (parseInt(quantityInput.value) > 1) {
                quantityInput.value = parseInt(quantityInput.value) - 1;
            }
        }
    </script>
    <script>
        // Hết ring sau khi tải trang
        window.onload = function () {
            document.getElementById("loading-screen").style.display = "none";
        };

    </script>
    <!--Hiện thị chuột-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/60eee2d4f6.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        const circle = document.getElementById('cursor-circle');
        const dot = document.getElementById('cursor-dot');

        let mouseX = 0;
        let mouseY = 0;
        let circleX = 0;
        let circleY = 0;

        // Kiểm tra sự tồn tại của các phần tử trong DOM
        if (circle && dot) {

            document.addEventListener('mousemove', (e) => {
                mouseX = e.pageX;
                mouseY = e.pageY;

                // Cập nhật vị trí của dot, điều chỉnh cho phù hợp với chuột
                dot.style.left = `${mouseX}px`;
                dot.style.top = `${mouseY}px`; // Điều chỉnh độ lệch của dot

                // Cập nhật kích thước circle
                circle.style.width = '35px';
                circle.style.height = '35px';
            });

            function animate() {
                // Cập nhật vị trí của circle với độ trễ
                circleX += (mouseX - circleX) * 0.3;
                circleY += (mouseY - circleY) * 0.3;

                // Điều chỉnh vị trí của circle sao cho chính xác
                circle.style.left = `${circleX}px`;
                circle.style.top = `${circleY}px`;

                // Yêu cầu một frame tiếp theo để tạo hiệu ứng mượt mà
                requestAnimationFrame(animate);
            }

            animate();

            // Khi chuột di chuyển ra ngoài, thu nhỏ circle và ẩn dot
            document.addEventListener('mouseout', () => {
                circle.style.width = '20px';
                circle.style.height = '20px';

                // Ẩn dot khi chuột ra ngoài
                dot.style.left = `-9999px`;
                dot.style.top = `-9999px`; // Di chuyển dot ra ngoài màn hình
            });
        }
    </script>
    <script>
        // Ngày kếết thúc đếm ngược
        const endDate = new Date("2024-12-28T23:59:59").getTime();

        // Hàm cập nhật đếm ngược
        function updateCountdown() {
            const now = new Date().getTime();
            const distance = endDate - now;

            // Tính toán ngày, giờ, phút và giây còn lại
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Hiển thị kết quả
            document.getElementById("days").innerText = days.toString().padStart(2, '0');
            document.getElementById("hours").innerText = hours.toString().padStart(2, '0');
            document.getElementById("minutes").innerText = minutes.toString().padStart(2, '0');
            document.getElementById("seconds").innerText = seconds.toString().padStart(2, '0');

            // Nếu hết thời gian, dừng đếm ngược
            if (distance < 0) {
                clearInterval(countdownInterval);
                document.getElementById("countdown").innerHTML = "Đã hết thời gian!";
            }
        }

        // Cập nhật đếm ngược mỗi gi��y
        const countdownInterval = setInterval(updateCountdown, 1000);

        // Chạy ngay khi tải trang
        updateCountdown();
    </script>
    <!--Sản phẩm nổi bật-->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>

    <script>
        // Get cart elements
        const cartIcon = document.getElementById('header-cart');
        const cartPopup = document.getElementById('cartPopup');

        // Toggle cart popup when clicking cart icon
        if (cartIcon && cartPopup) {
            cartIcon.addEventListener('click', function (e) {
                e.preventDefault();
                e.stopPropagation();

                // Toggle active class
                cartPopup.classList.toggle('active');

                // If popup is active, ensure it's visible
                if (cartPopup.classList.contains('active')) {
                    cartPopup.style.display = 'block';
                    // Add animation class
                    cartPopup.style.opacity = '1';
                    cartPopup.style.transform = 'translateY(0)';
                } else {
                    // Hide popup
                    cartPopup.style.opacity = '0';
                    cartPopup.style.transform = 'translateY(-10px)';
                    setTimeout(() => {
                        cartPopup.style.display = 'none';
                    }, 300); // Match transition duration from CSS
                }
            });

            // Close cart popup when clicking outside
            document.addEventListener('click', function (e) {
                if (cartPopup.classList.contains('active') &&
                    !cartPopup.contains(e.target) &&
                    !cartIcon.contains(e.target)) {
                    // Hide popup
                    cartPopup.classList.remove('active');
                    cartPopup.style.opacity = '0';
                    cartPopup.style.transform = 'translateY(-10px)';
                    setTimeout(() => {
                        cartPopup.style.display = 'none';
                    }, 300);
                }
            });
        }

        // Prevent popup from closing when clicking inside it
        cartPopup.addEventListener('click', function (e) {
            e.stopPropagation();
        });
    </script>


</html>